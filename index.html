<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CureCode - Technical Architecture & Data Flow</title>
    <meta name="description" content="CureCode is a Swiss medical AI documentation platform. View the complete technical architecture, data flow, and deployment details.">
    <meta name="keywords" content="CureCode, Medical AI, Healthcare, Swiss, Documentation, Architecture, NestJS, React, OpenAI, Azure">
    <meta name="author" content="CureCode">
    
    <!-- Open Graph / Social Media -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="CureCode - Technical Architecture">
    <meta property="og:description" content="Swiss medical AI documentation platform - Complete technical architecture documentation">
    <meta property="og:image" content="https://brasdor.github.io/curecode-architecture/og-image.png">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üè•</text></svg>">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: #333;
            padding: 20px;
            overflow-x: hidden;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 3px solid #2a5298;
        }

        h1 {
            color: #1e3c72;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #666;
            font-size: 1.2em;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            border-bottom: 2px solid #e0e0e0;
        }

        .tab {
            padding: 15px 25px;
            background: #f5f5f5;
            border: none;
            border-radius: 8px 8px 0 0;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            color: #666;
            transition: all 0.3s;
        }

        .tab:hover {
            background: #e0e0e0;
        }

        .tab.active {
            background: #2a5298;
            color: white;
        }

        .content-section {
            display: none;
        }

        .content-section.active {
            display: block;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .architecture-layer {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            border-left: 5px solid #2a5298;
        }

        .architecture-layer h2 {
            color: #1e3c72;
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        .service-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .service-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            border: 2px solid #e0e0e0;
            transition: all 0.3s;
            position: relative;
        }

        .service-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            border-color: #2a5298;
        }

        .service-card h3 {
            color: #2a5298;
            margin-bottom: 15px;
            font-size: 1.4em;
        }

        .service-card .tech-stack {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 15px;
        }

        .tech-badge {
            background: #e3f2fd;
            color: #1976d2;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.85em;
            font-weight: 600;
        }

        .api-endpoint {
            background: #f5f5f5;
            padding: 12px;
            border-radius: 8px;
            margin: 8px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            border-left: 3px solid #4caf50;
        }

        .api-endpoint .method {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 4px;
            font-weight: bold;
            margin-right: 10px;
            color: white;
        }

        .method.GET { background: #4caf50; }
        .method.POST { background: #2196f3; }
        .method.PATCH { background: #ff9800; }
        .method.DELETE { background: #f44336; }

        .data-flow {
            position: relative;
            padding: 20px;
        }

        .flow-step {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 5px solid #2a5298;
            position: relative;
        }

        .flow-step::after {
            content: '‚Üì';
            position: absolute;
            bottom: -30px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 2em;
            color: #2a5298;
        }

        .flow-step:last-child::after {
            display: none;
        }

        .flow-step h3 {
            color: #1e3c72;
            margin-bottom: 10px;
        }

        .flow-step .details {
            color: #666;
            line-height: 1.6;
        }

        .flow-step .code {
            background: #f5f5f5;
            padding: 10px;
            border-radius: 6px;
            margin-top: 10px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        .database-schema {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
        }

        .database-schema h3 {
            color: #1e3c72;
            margin-bottom: 15px;
        }

        .schema-table {
            background: white;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
        }

        .schema-table .table-name {
            font-weight: bold;
            color: #2a5298;
            font-size: 1.1em;
            margin-bottom: 10px;
        }

        .schema-field {
            padding: 5px 0;
            border-bottom: 1px solid #f0f0f0;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        .schema-field:last-child {
            border-bottom: none;
        }

        .field-name {
            color: #1976d2;
            font-weight: 600;
        }

        .field-type {
            color: #f57c00;
            margin-left: 10px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
        }

        .stat-card .number {
            font-size: 3em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .stat-card .label {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .highlight {
            background: #fff3e0;
            padding: 3px 8px;
            border-radius: 4px;
            color: #e65100;
            font-weight: 600;
        }

        .success {
            color: #4caf50;
            font-weight: 600;
        }

        .azure-deployment {
            background: #0078d4;
            color: white;
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
        }

        .azure-deployment h3 {
            margin-bottom: 15px;
        }

        .deployment-item {
            background: rgba(255,255,255,0.1);
            padding: 12px;
            border-radius: 8px;
            margin: 8px 0;
        }

        code {
            background: #f5f5f5;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: #d32f2f;
        }

        .info-box {
            background: #e8f5e9;
            border-left: 5px solid #4caf50;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .warning-box {
            background: #fff3e0;
            border-left: 5px solid #ff9800;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üè• CureCode Technical Architecture</h1>
            <p class="subtitle">Complete Technical Documentation - Production System</p>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="showTab('overview')">üìä Overview</button>
            <button class="tab" onclick="showTab('architecture')">üèóÔ∏è Architecture</button>
            <button class="tab" onclick="showTab('dataflow')">üîÑ Data Flow</button>
            <button class="tab" onclick="showTab('database')">üíæ Database</button>
            <button class="tab" onclick="showTab('apis')">üîå API Endpoints</button>
            <button class="tab" onclick="showTab('deployment')">‚òÅÔ∏è Azure Deployment</button>
        </div>

        <!-- OVERVIEW TAB -->
        <div class="content-section active" id="overview">
            <h2>System Overview</h2>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="number">3</div>
                    <div class="label">Microservices</div>
                </div>
                <div class="stat-card">
                    <div class="number">20</div>
                    <div class="label">Document Types</div>
                </div>
                <div class="stat-card">
                    <div class="number">4+</div>
                    <div class="label">Medical Specialties</div>
                </div>
                <div class="stat-card">
                    <div class="number">2+</div>
                    <div class="label">Active Doctors</div>
                </div>
            </div>

            <div class="architecture-layer">
                <h2>Tech Stack (TypeScript Full-Stack)</h2>
                <div class="service-grid">
                    <div class="service-card">
                        <h3>Frontend</h3>
                        <p><strong>React 18 + TypeScript SPA</strong></p>
                        <div class="tech-stack">
                            <span class="tech-badge">React 18</span>
                            <span class="tech-badge">TypeScript</span>
                            <span class="tech-badge">Vite</span>
                            <span class="tech-badge">TanStack Router</span>
                            <span class="tech-badge">TanStack Query</span>
                            <span class="tech-badge">Tailwind CSS</span>
                            <span class="tech-badge">TipTap Editor</span>
                        </div>
                    </div>
                    <div class="service-card">
                        <h3>Backend</h3>
                        <p><strong>2x NestJS Microservices</strong></p>
                        <div class="tech-stack">
                            <span class="tech-badge">NestJS</span>
                            <span class="tech-badge">TypeScript</span>
                            <span class="tech-badge">Prisma ORM</span>
                            <span class="tech-badge">PostgreSQL</span>
                            <span class="tech-badge">JWT Auth</span>
                        </div>
                    </div>
                    <div class="service-card">
                        <h3>AI Services</h3>
                        <p><strong>OpenAI Integration</strong></p>
                        <div class="tech-stack">
                            <span class="tech-badge">Whisper API</span>
                            <span class="tech-badge">LLM (Configurable)</span>
                            <span class="tech-badge">Infomaniak AI</span>
                        </div>
                    </div>
                    <div class="service-card">
                        <h3>Infrastructure</h3>
                        <p><strong>Azure Switzerland North</strong></p>
                        <div class="tech-stack">
                            <span class="tech-badge">Azure App Service</span>
                            <span class="tech-badge">Azure Blob Storage</span>
                            <span class="tech-badge">Docker</span>
                            <span class="tech-badge">GitHub Actions</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="info-box">
                <strong>‚úÖ Production Status:</strong> Live system with real doctors as customers<br>
                <strong>‚úÖ Swiss Compliance:</strong> ICD-10-GM, TARMED, FADP, GDPR<br>
                <strong>‚úÖ Data Residency:</strong> All data remains in Switzerland (Azure Switzerland North)
            </div>
        </div>

        <!-- ARCHITECTURE TAB -->
        <div class="content-section" id="architecture">
            <h2>Three-Tier Microservices Architecture</h2>

            <div class="architecture-layer">
                <h2>üé® Layer 1: Frontend (curecode-app-client)</h2>
                <div class="service-card">
                    <h3>React SPA</h3>
                    <p><strong>Responsibilities:</strong></p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>Patient Management (AHV Validation)</li>
                        <li>Consultation Management</li>
                        <li>Document Generation Wizard (3-Step)</li>
                        <li>Rich-Text Editor (TipTap/ProseMirror)</li>
                        <li>File Upload UI (Audio up to 50MB)</li>
                    </ul>
                    <div class="tech-stack">
                        <span class="tech-badge">React 18</span>
                        <span class="tech-badge">TypeScript</span>
                        <span class="tech-badge">TanStack Router</span>
                        <span class="tech-badge">TanStack Query</span>
                        <span class="tech-badge">Tailwind CSS</span>
                        <span class="tech-badge">TipTap Editor</span>
                    </div>
                    <div class="code" style="margin-top: 15px;">
                        Production: https://[redacted]-client-prod.azurewebsites.net<br>
                        Staging: https://[redacted]-client-staging.azurewebsites.net<br>
                        Deployment: Azure App Service (Docker Container)<br>
                        Build: Vite
                    </div>
                </div>
            </div>

            <div style="text-align: center; font-size: 2em; color: #2a5298; margin: 20px 0;">‚Üì</div>

            <div class="architecture-layer">
                <h2>‚öôÔ∏è Layer 2: Backend Services</h2>
                <div class="service-grid">
                    <div class="service-card">
                        <h3>curecode-app-service</h3>
                        <p><strong>Main Business Logic API</strong></p>
                        <ul style="margin-left: 20px; margin-top: 10px;">
                            <li>Patient CRUD</li>
                            <li>Consultation CRUD</li>
                            <li>Document CRUD</li>
                            <li>User Management</li>
                            <li>JWT Authentication</li>
                            <li>Organisation Management</li>
                        </ul>
                        <div class="tech-stack">
                            <span class="tech-badge">NestJS</span>
                            <span class="tech-badge">TypeScript</span>
                            <span class="tech-badge">Prisma ORM</span>
                            <span class="tech-badge">PostgreSQL</span>
                        </div>
                        <div class="code" style="margin-top: 15px;">
                            Port: 3000<br>
                            Database: curecode_app_service schema<br>
                            Swagger: /api
                        </div>
                    </div>
                    <div class="service-card">
                        <h3>curecode-ai-service</h3>
                        <p><strong>AI Processing Service</strong></p>
                        <ul style="margin-left: 20px; margin-top: 10px;">
                            <li>Audio Transcription (Whisper)</li>
                            <li>Document Extraction (PDF/DOCX)</li>
                            <li>AI Document Generation (LLM)</li>
                            <li>Azure Blob Storage Management</li>
                            <li>Retry Logic & Error Handling</li>
                        </ul>
                        <div class="tech-stack">
                            <span class="tech-badge">NestJS</span>
                            <span class="tech-badge">OpenAI API</span>
                            <span class="tech-badge">Azure Blob</span>
                            <span class="tech-badge">Prisma ORM</span>
                        </div>
                        <div class="code" style="margin-top: 15px;">
                            Port: 3001<br>
                            Database: curecode_ai_service schema<br>
                            Max Upload: 50MB
                        </div>
                    </div>
                </div>
            </div>

            <div style="text-align: center; font-size: 2em; color: #2a5298; margin: 20px 0;">‚Üì</div>

            <div class="architecture-layer">
                <h2>üíæ Layer 3: Data & Storage</h2>
                <div class="service-grid">
                    <div class="service-card">
                        <h3>PostgreSQL Database</h3>
                        <p><strong>2 Separate Schemas:</strong></p>
                        <ul style="margin-left: 20px; margin-top: 10px;">
                            <li><code>curecode_app_service</code> schema</li>
                            <li><code>curecode_ai_service</code> schema</li>
                        </ul>
                        <div class="tech-stack">
                            <span class="tech-badge">PostgreSQL 15</span>
                            <span class="tech-badge">pgvector extension</span>
                            <span class="tech-badge">Prisma Migrations</span>
                        </div>
                    </div>
                    <div class="service-card">
                        <h3>Azure Blob Storage</h3>
                        <p><strong>File Storage:</strong></p>
                        <ul style="margin-left: 20px; margin-top: 10px;">
                            <li>Audio files (MP3, M4A, WAV, WEBM)</li>
                            <li>Uploaded documents (PDF, DOCX)</li>
                            <li>Organisation logos</li>
                        </ul>
                        <div class="tech-stack">
                            <span class="tech-badge">Azure Blob</span>
                            <span class="tech-badge">Encrypted</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="warning-box">
                <strong>üîí Security:</strong> All services communicate via JWT Tokens. No API keys in the frontend. CORS is strictly configured for Production & Staging domains.
            </div>
        </div>

        <!-- DATA FLOW TAB -->
        <div class="content-section" id="dataflow">
            <h2>Complete Data Flow: Audio ‚Üí Final Document</h2>
            
            <div class="data-flow">
                <div class="flow-step">
                    <h3>Step 1: User Authentication</h3>
                    <div class="details">
                        <p><strong>Flow:</strong></p>
                        <ol style="margin-left: 20px;">
                            <li>User logs in with email/password</li>
                            <li><code>POST /auth/login</code> ‚Üí curecode-app-service</li>
                            <li>bcrypt verifies password hash</li>
                            <li>JWT token generated with user ID + organisation ID</li>
                            <li>Frontend stores token in memory (TanStack Query)</li>
                        </ol>
                        <div class="code">
                            JWT Payload: { userId, organisationId, level, exp }<br>
                            Token Expiry: 1 hour<br>
                            Refresh Token: Stored in DB
                        </div>
                    </div>
                </div>

                <div class="flow-step">
                    <h3>Step 2: Patient Selection/Creation</h3>
                    <div class="details">
                        <p><strong>Flow:</strong></p>
                        <ol style="margin-left: 20px;">
                            <li>Frontend fetches patient list: <code>GET /patients</code></li>
                            <li>User clicks "New Patient" or selects existing</li>
                            <li>AHV number validation (Swiss format: 756.XXXX.XXXX.XX)</li>
                            <li>Patient created/loaded with full insurance data</li>
                        </ol>
                        <div class="code">
                            Database: Patient table (curecode_app_service schema)<br>
                            Fields: firstName, lastName, ahvNumber, birthDate, insurance
                        </div>
                    </div>
                </div>

                <div class="flow-step">
                    <h3>Step 3: Consultation Creation</h3>
                    <div class="details">
                        <p><strong>Flow:</strong></p>
                        <ol style="margin-left: 20px;">
                            <li>User clicks "New Consultation" for patient</li>
                            <li><code>POST /consultations</code> creates consultation record</li>
                            <li>Links: userId, patientId, date</li>
                            <li>Returns consultationId</li>
                        </ol>
                        <div class="code">
                            Database: Consultation table<br>
                            Relationships: ‚Üí User, ‚Üí Patient
                        </div>
                    </div>
                </div>

                <div class="flow-step">
                    <h3>Step 4: Audio Upload & Transcription</h3>
                    <div class="details">
                        <p><strong>Flow:</strong></p>
                        <ol style="margin-left: 20px;">
                            <li>User uploads audio file (up to 50MB)</li>
                            <li>Frontend ‚Üí <code>POST /transcriptions</code> (curecode-ai-service)</li>
                            <li>File uploaded to Azure Blob Storage</li>
                            <li>Transcription record created with state: 'PENDING'</li>
                            <li>Background job calls Whisper API (Infomaniak/OpenAI)</li>
                            <li>Transcription saved, state ‚Üí 'COMPLETED'</li>
                            <li>Frontend polls: <code>GET /transcriptions/:id</code> every 5s</li>
                        </ol>
                        <div class="code">
                            Transcription Model: Whisper (configurable vendor)<br>
                            Language: de (German)<br>
                            Retry Logic: 3 attempts with exponential backoff<br>
                            Timeout: 5 minutes per attempt
                        </div>
                    </div>
                </div>

                <div class="flow-step">
                    <h3>Step 5: Document Generation Wizard</h3>
                    <div class="details">
                        <p><strong>Flow:</strong></p>
                        <ol style="margin-left: 20px;">
                            <li><strong>Step 1:</strong> Select Medical Domain (Neurology, Orthopedics, etc.)</li>
                            <li><strong>Step 2:</strong> Select Document Type (20 types available)</li>
                            <li><strong>Step 3:</strong> Select Sections (Medical History, Diagnosis, Therapy, etc.)</li>
                            <li>User clicks "Generate with AI"</li>
                        </ol>
                        <div class="code">
                            UI: React Wizard Component (3 steps)<br>
                            State Management: TanStack Query + Local State
                        </div>
                    </div>
                </div>

                <div class="flow-step">
                    <h3>Step 6: AI Document Generation</h3>
                    <div class="details">
                        <p><strong>Flow:</strong></p>
                        <ol style="margin-left: 20px;">
                            <li>Frontend ‚Üí <code>POST /documents/generate</code> (curecode-app-service)</li>
                            <li>Backend fetches transcription from AI service</li>
                            <li>Backend loads YAML prompt template for documentType</li>
                            <li>Constructs prompt with:
                                <ul style="margin-left: 20px;">
                                    <li>Transcription text</li>
                                    <li>Selected sections</li>
                                    <li>Doctor info (title, specialty, organisation)</li>
                                    <li>ICD-10-GM + TARMED guidelines</li>
                                </ul>
                            </li>
                            <li>Calls AI service: <code>POST /service/ai/completions</code></li>
                            <li>AI service ‚Üí LLM API (Infomaniak/OpenAI)</li>
                            <li>LLM generates structured markdown text</li>
                            <li>Backend converts markdown ‚Üí ProseMirror JSON</li>
                            <li>Document saved to database</li>
                            <li>Returns documentId</li>
                        </ol>
                        <div class="code">
                            LLM Model: Configurable (default: Infomaniak qwen3)<br>
                            Max Tokens: 4000<br>
                            Temperature: Configurable<br>
                            Processing Time: ~10-20 seconds
                        </div>
                    </div>
                </div>

                <div class="flow-step">
                    <h3>Step 7: Document Review & Edit</h3>
                    <div class="details">
                        <p><strong>Flow:</strong></p>
                        <ol style="margin-left: 20px;">
                            <li>Frontend redirects to document editor</li>
                            <li>TipTap editor loads ProseMirror JSON</li>
                            <li>Doctor can edit like in Word/Google Docs</li>
                            <li>Auto-save every 5 seconds: <code>PATCH /documents/:id</code></li>
                            <li>Document status: DRAFT ‚Üí APPROVED</li>
                        </ol>
                        <div class="code">
                            Editor: TipTap (based on ProseMirror)<br>
                            Format: ProseMirror JSON (stored as JSONB in DB)<br>
                            Features: Bold, Italic, Lists, Headings, Tables
                        </div>
                    </div>
                </div>

                <div class="flow-step">
                    <h3>Step 8: Document Finalization</h3>
                    <div class="details">
                        <p><strong>Flow:</strong></p>
                        <ol style="margin-left: 20px;">
                            <li>Doctor clicks "Approve"</li>
                            <li><code>PATCH /documents/:id</code> with status: APPROVED</li>
                            <li>Document history entry created (DocumentHistory table)</li>
                            <li>Document linked to consultation (consultationId)</li>
                            <li>Ready for export (PDF, print)</li>
                        </ol>
                        <div class="code">
                            Final Status: APPROVED<br>
                            Audit Trail: DocumentHistory table tracks all changes
                        </div>
                    </div>
                </div>
            </div>

            <div class="info-box">
                <strong>‚ö° Performance Metrics:</strong><br>
                50MB Audio: ~2-4 minutes transcription<br>
                Document Generation: ~10-20 seconds<br>
                Total Time: Audio ‚Üí Final Document = ~3-5 minutes
            </div>
        </div>

        <!-- DATABASE TAB -->
        <div class="content-section" id="database">
            <h2>Database Schema (PostgreSQL + Prisma)</h2>

            <div class="warning-box">
                <strong>‚ö†Ô∏è Two Separate Schemas:</strong><br>
                1. <code>curecode_app_service</code> - Business logic (Patients, Docs, Users)<br>
                2. <code>curecode_ai_service</code> - AI processing (Transcriptions, Completions)
            </div>

            <div class="database-schema">
                <h3>Schema 1: curecode_app_service</h3>

                <div class="schema-table">
                    <div class="table-name">User</div>
                    <div class="schema-field">
                        <span class="field-name">id</span>
                        <span class="field-type">String @id @default(uuid())</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">email</span>
                        <span class="field-type">String @unique</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">firstName</span>
                        <span class="field-type">String</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">lastName</span>
                        <span class="field-type">String</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">passwordHash</span>
                        <span class="field-type">String (bcrypt)</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">title</span>
                        <span class="field-type">String? (Dr. med., Prof. Dr.)</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">specialty</span>
                        <span class="field-type">String? (Neurologie, Orthop√§die)</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">level</span>
                        <span class="field-type">Enum (Level1-4, SYSTEM_ADMIN)</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">organisationId</span>
                        <span class="field-type">String? ‚Üí Organisation</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">documents</span>
                        <span class="field-type">Document[]</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">consultations</span>
                        <span class="field-type">Consultation[]</span>
                    </div>
                </div>

                <div class="schema-table">
                    <div class="table-name">Patient</div>
                    <div class="schema-field">
                        <span class="field-name">id</span>
                        <span class="field-type">String @id @default(uuid())</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">firstName</span>
                        <span class="field-type">String</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">lastName</span>
                        <span class="field-type">String</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">ahvNumber</span>
                        <span class="field-type">String (756.XXXX.XXXX.XX)</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">birthDate</span>
                        <span class="field-type">DateTime</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">insurance</span>
                        <span class="field-type">String?</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">documents</span>
                        <span class="field-type">Document[]</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">consultations</span>
                        <span class="field-type">Consultation[]</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">organisationId</span>
                        <span class="field-type">String ‚Üí Organisation</span>
                    </div>
                </div>

                <div class="schema-table">
                    <div class="table-name">Consultation</div>
                    <div class="schema-field">
                        <span class="field-name">id</span>
                        <span class="field-type">String @id @default(uuid())</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">date</span>
                        <span class="field-type">DateTime</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">transcriptionId</span>
                        <span class="field-type">String? (links to AI service)</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">userId</span>
                        <span class="field-type">String ‚Üí User</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">patientId</span>
                        <span class="field-type">String ‚Üí Patient</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">documents</span>
                        <span class="field-type">Document[]</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">deletedAt</span>
                        <span class="field-type">DateTime? (soft delete)</span>
                    </div>
                </div>

                <div class="schema-table">
                    <div class="table-name">Document</div>
                    <div class="schema-field">
                        <span class="field-name">id</span>
                        <span class="field-type">String @id @default(uuid())</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">title</span>
                        <span class="field-type">String</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">documentType</span>
                        <span class="field-type">DocumentType (20 types)</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">content</span>
                        <span class="field-type">Json (ProseMirror format)</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">status</span>
                        <span class="field-type">DRAFT | PENDING | APPROVED</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">authorId</span>
                        <span class="field-type">String ‚Üí User</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">patientId</span>
                        <span class="field-type">String ‚Üí Patient</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">consultationId</span>
                        <span class="field-type">String? ‚Üí Consultation</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">deletedAt</span>
                        <span class="field-type">DateTime? (soft delete)</span>
                    </div>
                </div>

                <div class="schema-table">
                    <div class="table-name">DocumentHistory (Audit Trail)</div>
                    <div class="schema-field">
                        <span class="field-name">id</span>
                        <span class="field-type">String @id @default(uuid())</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">documentId</span>
                        <span class="field-type">String ‚Üí Document (CASCADE)</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">action</span>
                        <span class="field-type">CREATED | UPDATED | APPROVED</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">userId</span>
                        <span class="field-type">String ‚Üí User</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">createdAt</span>
                        <span class="field-type">DateTime</span>
                    </div>
                </div>

                <div class="schema-table">
                    <div class="table-name">Organisation</div>
                    <div class="schema-field">
                        <span class="field-name">id</span>
                        <span class="field-type">String @id @default(uuid())</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">name</span>
                        <span class="field-type">String</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">taxNumber</span>
                        <span class="field-type">String?</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">street, city, zip</span>
                        <span class="field-type">String?</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">licenseCount</span>
                        <span class="field-type">Int @default(0)</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">logo</span>
                        <span class="field-type">Logo? (1-to-1)</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">User</span>
                        <span class="field-type">User[]</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">Patient</span>
                        <span class="field-type">Patient[]</span>
                    </div>
                </div>
            </div>

            <div class="database-schema">
                <h3>Schema 2: curecode_ai_service</h3>

                <div class="schema-table">
                    <div class="table-name">Transcription</div>
                    <div class="schema-field">
                        <span class="field-name">id</span>
                        <span class="field-type">String @id</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">state</span>
                        <span class="field-type">PENDING | COMPLETED | FAILED</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">transcriptionContent</span>
                        <span class="field-type">String (transcribed text)</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">audioFile</span>
                        <span class="field-type">String (Azure Blob URL)</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">audioFileName</span>
                        <span class="field-type">String?</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">audioSizeBytes</span>
                        <span class="field-type">Int?</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">medicalDomain</span>
                        <span class="field-type">String? (Neurologie, etc.)</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">vendorId</span>
                        <span class="field-type">openai | infomaniak</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">vendorModelId</span>
                        <span class="field-type">whisper (configurable)</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">completedAt</span>
                        <span class="field-type">DateTime?</span>
                    </div>
                </div>

                <div class="schema-table">
                    <div class="table-name">Completion (LLM Calls)</div>
                    <div class="schema-field">
                        <span class="field-name">id</span>
                        <span class="field-type">String @id</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">state</span>
                        <span class="field-type">PENDING | COMPLETED | FAILED</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">completionContent</span>
                        <span class="field-type">String (generated text)</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">promptType</span>
                        <span class="field-type">String (documentType)</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">promptMessages</span>
                        <span class="field-type">PromptMessage[] (system + user)</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">promptTokens</span>
                        <span class="field-type">Int</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">completionTokens</span>
                        <span class="field-type">Int</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">vendorModelId</span>
                        <span class="field-type">LLM model (configurable)</span>
                    </div>
                </div>

                <div class="schema-table">
                    <div class="table-name">DocumentEmbedding (Semantic Search)</div>
                    <div class="schema-field">
                        <span class="field-name">id</span>
                        <span class="field-type">String @id</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">sourceTable</span>
                        <span class="field-type">documents | consultations</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">sourceId</span>
                        <span class="field-type">String (FK to source)</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">patientId</span>
                        <span class="field-type">String?</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">textContent</span>
                        <span class="field-type">Text (original content)</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">embedding</span>
                        <span class="field-type">vector(384) (pgvector!)</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">documentType</span>
                        <span class="field-type">String?</span>
                    </div>
                    <div class="schema-field">
                        <span class="field-name">timePeriod</span>
                        <span class="field-type">DateTime?</span>
                    </div>
                </div>
            </div>

            <div class="info-box">
                <strong>‚úÖ pgvector Extension Already Deployed!</strong><br>
                The database is ready for semantic search with 384-dimensional embeddings.<br>
                Vector index created: <code>ivfflat (embedding vector_cosine_ops) WITH (lists = 100)</code>
            </div>
        </div>

        <!-- APIs TAB -->
        <div class="content-section" id="apis">
            <h2>API Endpoints</h2>

            <div class="architecture-layer">
                <h2>curecode-app-service (Port 3000)</h2>

                <h3 style="margin-top: 20px;">Authentication</h3>
                <div class="api-endpoint">
                    <span class="method POST">POST</span> /auth/login
                    <div style="margin-top: 8px; color: #666;">Body: { email, password } ‚Üí Returns: { accessToken, user }</div>
                </div>
                <div class="api-endpoint">
                    <span class="method POST">POST</span> /auth/refresh
                    <div style="margin-top: 8px; color: #666;">Refreshes JWT token</div>
                </div>

                <h3 style="margin-top: 20px;">Patients</h3>
                <div class="api-endpoint">
                    <span class="method GET">GET</span> /patients
                    <div style="margin-top: 8px; color: #666;">Returns: Patient[] for current organisation</div>
                </div>
                <div class="api-endpoint">
                    <span class="method GET">GET</span> /patients/:id
                    <div style="margin-top: 8px; color: #666;">Returns: Patient with documents & consultations</div>
                </div>
                <div class="api-endpoint">
                    <span class="method POST">POST</span> /patients
                    <div style="margin-top: 8px; color: #666;">Body: { firstName, lastName, ahvNumber, birthDate, ... }</div>
                </div>
                <div class="api-endpoint">
                    <span class="method PATCH">PATCH</span> /patients/:id
                    <div style="margin-top: 8px; color: #666;">Update patient data</div>
                </div>
                <div class="api-endpoint">
                    <span class="method DELETE">DELETE</span> /patients/:id
                    <div style="margin-top: 8px; color: #666;">Soft delete (sets deletedAt)</div>
                </div>

                <h3 style="margin-top: 20px;">Consultations</h3>
                <div class="api-endpoint">
                    <span class="method GET">GET</span> /consultations
                    <div style="margin-top: 8px; color: #666;">Returns: Consultation[] with patient data</div>
                </div>
                <div class="api-endpoint">
                    <span class="method GET">GET</span> /consultations/:id
                    <div style="margin-top: 8px; color: #666;">Returns: Consultation with transcription data</div>
                </div>
                <div class="api-endpoint">
                    <span class="method POST">POST</span> /consultations
                    <div style="margin-top: 8px; color: #666;">Body: { patientId, date } ‚Üí Returns: { consultationId }</div>
                </div>
                <div class="api-endpoint">
                    <span class="method PATCH">PATCH</span> /consultations/:id
                    <div style="margin-top: 8px; color: #666;">Update consultation (link transcriptionId)</div>
                </div>
                <div class="api-endpoint">
                    <span class="method DELETE">DELETE</span> /consultations/:id
                    <div style="margin-top: 8px; color: #666;">Soft delete</div>
                </div>

                <h3 style="margin-top: 20px;">Documents</h3>
                <div class="api-endpoint">
                    <span class="method GET">GET</span> /documents
                    <div style="margin-top: 8px; color: #666;">Returns: Document[] with author & patient</div>
                </div>
                <div class="api-endpoint">
                    <span class="method GET">GET</span> /documents/:id
                    <div style="margin-top: 8px; color: #666;">Returns: Document with full history</div>
                </div>
                <div class="api-endpoint">
                    <span class="method POST">POST</span> /documents/generate
                    <div style="margin-top: 8px; color: #666;">
                        Body: {<br>
                        &nbsp;&nbsp;transcriptionId: string,<br>
                        &nbsp;&nbsp;documentType: DocumentType,<br>
                        &nbsp;&nbsp;medicalDomain: string,<br>
                        &nbsp;&nbsp;sections: string[],<br>
                        &nbsp;&nbsp;patientId: string,<br>
                        &nbsp;&nbsp;consultationId?: string<br>
                        }<br>
                        ‚Üí Calls AI service, generates document
                    </div>
                </div>
                <div class="api-endpoint">
                    <span class="method PATCH">PATCH</span> /documents/:id
                    <div style="margin-top: 8px; color: #666;">Update document content (auto-save)</div>
                </div>
                <div class="api-endpoint">
                    <span class="method DELETE">DELETE</span> /documents/:id
                    <div style="margin-top: 8px; color: #666;">Soft delete</div>
                </div>
            </div>

            <div class="architecture-layer">
                <h2>curecode-ai-service (Port 3001)</h2>

                <h3 style="margin-top: 20px;">Transcriptions</h3>
                <div class="api-endpoint">
                    <span class="method POST">POST</span> /transcriptions
                    <div style="margin-top: 8px; color: #666;">
                        Body: multipart/form-data with audio file<br>
                        ‚Üí Uploads to Azure Blob, starts Whisper transcription<br>
                        ‚Üí Returns: { id, state: 'PENDING' }
                    </div>
                </div>
                <div class="api-endpoint">
                    <span class="method GET">GET</span> /transcriptions/:id
                    <div style="margin-top: 8px; color: #666;">
                        Polling endpoint ‚Üí Returns: { id, state, transcriptionContent, completedAt }
                    </div>
                </div>
                <div class="api-endpoint">
                    <span class="method GET">GET</span> /transcriptions
                    <div style="margin-top: 8px; color: #666;">List all transcriptions for tenant</div>
                </div>

                <h3 style="margin-top: 20px;">Completions (LLM)</h3>
                <div class="api-endpoint">
                    <span class="method POST">POST</span> /completions
                    <div style="margin-top: 8px; color: #666;">
                        Body: {<br>
                        &nbsp;&nbsp;documentType: string,<br>
                        &nbsp;&nbsp;medicalDomain: string,<br>
                        &nbsp;&nbsp;transcriptionContent: string,<br>
                        &nbsp;&nbsp;sections: string[],<br>
                        &nbsp;&nbsp;doctorInfo: { ... }<br>
                        }<br>
                        ‚Üí Generates medical report with LLM
                    </div>
                </div>
                <div class="api-endpoint">
                    <span class="method GET">GET</span> /completions/:id
                    <div style="margin-top: 8px; color: #666;">Get completion result</div>
                </div>

                <h3 style="margin-top: 20px;">Health Check</h3>
                <div class="api-endpoint">
                    <span class="method GET">GET</span> /health
                    <div style="margin-top: 8px; color: #666;">Full health check (DB, Lock, LLM, Transcription)</div>
                </div>
                <div class="api-endpoint">
                    <span class="method GET">GET</span> /health/live
                    <div style="margin-top: 8px; color: #666;">Liveness probe (DB, Lock only)</div>
                </div>
                <div class="api-endpoint">
                    <span class="method GET">GET</span> /health/ready
                    <div style="margin-top: 8px; color: #666;">Readiness probe</div>
                </div>
            </div>
        </div>

        <!-- DEPLOYMENT TAB -->
        <div class="content-section" id="deployment">
            <h2>Azure Switzerland North Deployment</h2>

            <div class="azure-deployment">
                <h3>üåç Azure Resources</h3>
                <div class="deployment-item">
                    <strong>Resource Groups:</strong> rg-curecode-prod, rg-curecode-dev<br>
                    <strong>Region:</strong> Switzerland North (Z√ºrich)<br>
                    <strong>Subscription:</strong> CureCode
                </div>
                <div class="deployment-item">
                    <strong>App Service Plans:</strong><br>
                    ‚Ä¢ Production: plan-curecode-prod (S1: 1 Core, 1.75GB RAM)<br>
                    ‚Ä¢ Staging: plan-curecode-staging (S1: 1 Core, 1.75GB RAM)<br>
                    <strong>Operating System:</strong> Linux<br>
                    <strong>Runtime:</strong> Docker Container
                </div>
            </div>

            <div class="architecture-layer">
                <h2>üöÄ Production Environment</h2>
                <div class="service-grid">
                    <div class="service-card">
                        <h3>app-curecode-client-prod</h3>
                        <p><strong>Frontend (React SPA)</strong></p>
                        <div class="code" style="margin-top: 10px;">
                            URL: https://[redacted]-client-prod.azurewebsites.net<br>
                            Container: [acr]/curecode-app-client:prod<br>
                            Port: 8080<br>
                            Status: ‚úÖ Running
                        </div>
                    </div>
                    <div class="service-card">
                        <h3>app-curecode-app-prod</h3>
                        <p><strong>Main Backend API</strong></p>
                        <div class="code" style="margin-top: 10px;">
                            URL: https://[redacted]-app-prod.azurewebsites.net<br>
                            Container: [acr]/curecode-app-service:prod<br>
                            Port: 3000<br>
                            Status: ‚úÖ Running
                        </div>
                    </div>
                    <div class="service-card">
                        <h3>app-curecode-ai-prod</h3>
                        <p><strong>AI Processing Service</strong></p>
                        <div class="code" style="margin-top: 10px;">
                            URL: https://[redacted]-ai-prod.azurewebsites.net<br>
                            Container: [acr]/curecode-ai-service:prod<br>
                            Port: 3001<br>
                            Status: ‚úÖ Running
                        </div>
                    </div>
                </div>
            </div>

            <div class="architecture-layer">
                <h2>üß™ Staging Environment</h2>
                <div class="service-grid">
                    <div class="service-card">
                        <h3>app-curecode-client-staging</h3>
                        <p><strong>Frontend (React SPA)</strong></p>
                        <div class="code" style="margin-top: 10px;">
                            URL: https://[redacted]-client-staging.azurewebsites.net<br>
                            Container: [acr]/curecode-app-client:staging<br>
                            Port: 8080<br>
                            Status: ‚úÖ Running
                        </div>
                    </div>
                    <div class="service-card">
                        <h3>app-curecode-app-staging</h3>
                        <p><strong>Main Backend API</strong></p>
                        <div class="code" style="margin-top: 10px;">
                            URL: https://[redacted]-app-staging.azurewebsites.net<br>
                            Container: [acr]/curecode-app-service:staging<br>
                            Port: 3000<br>
                            Status: ‚úÖ Running
                        </div>
                    </div>
                    <div class="service-card">
                        <h3>app-curecode-ai-staging</h3>
                        <p><strong>AI Processing Service</strong></p>
                        <div class="code" style="margin-top: 10px;">
                            URL: https://[redacted]-ai-staging.azurewebsites.net<br>
                            Container: [acr]/curecode-ai-service:staging<br>
                            Port: 3001<br>
                            Status: ‚úÖ Running
                        </div>
                    </div>
                </div>
            </div>

            <div class="architecture-layer">
                <h2>Database</h2>
                <div class="service-card">
                    <h3>Azure Database for PostgreSQL Flexible Server</h3>
                    <div class="code" style="margin-top: 10px;">
                        Host: [redacted].postgres.database.azure.com<br>
                        Port: 5432<br>
                        Version: PostgreSQL 15<br>
                        Extensions: pgvector, pg_trgm<br>
                        Schemas: curecode_app_service, curecode_ai_service<br>
                        Compute: B1ms (1 vCore, 2 GiB RAM)<br>
                        Storage: 32 GiB<br>
                        Backup: 7 days retention
                    </div>
                </div>
            </div>

            <div class="architecture-layer">
                <h2>Storage</h2>
                <div class="service-card">
                    <h3>Azure Storage Account</h3>
                    <div class="code" style="margin-top: 10px;">
                        Account: [redacted]<br>
                        Containers: audio-files, documents<br>
                        Replication: LRS (Locally Redundant)<br>
                        Access Tier: Hot
                    </div>
                </div>
            </div>

            <div class="architecture-layer">
                <h2>CI/CD Pipeline (GitHub Actions)</h2>
                <div class="flow-step">
                    <h3>Build & Deploy Workflow</h3>
                    <div class="details">
                        <p><strong>Production Deployment:</strong></p>
                        <ol style="margin-left: 20px;">
                            <li>Create/push <code>prod</code> Git tag</li>
                            <li>GitHub Actions triggers production build</li>
                            <li>Run tests (npm test)</li>
                            <li>Build Docker image with <code>:prod</code> tag</li>
                            <li>Push to Azure Container Registry</li>
                            <li>Deploy to Production App Services</li>
                            <li>Health check verification</li>
                        </ol>
                        <p style="margin-top: 15px;"><strong>Staging Deployment:</strong></p>
                        <ol style="margin-left: 20px;">
                            <li>Create/push <code>staging</code> Git tag</li>
                            <li>GitHub Actions triggers staging build</li>
                            <li>Build Docker image with <code>:staging</code> tag</li>
                            <li>Deploy to Staging App Services</li>
                        </ol>
                        <div class="code" style="margin-top: 10px;">
                            Registry: [redacted].azurecr.io<br>
                            <br>
                            Production Tags:<br>
                            &nbsp;&nbsp;curecode-app-client:prod<br>
                            &nbsp;&nbsp;curecode-app-service:prod<br>
                            &nbsp;&nbsp;curecode-ai-service:prod<br>
                            <br>
                            Staging Tags:<br>
                            &nbsp;&nbsp;curecode-app-client:staging<br>
                            &nbsp;&nbsp;curecode-app-service:staging<br>
                            &nbsp;&nbsp;curecode-ai-service:staging
                        </div>
                    </div>
                </div>
            </div>

            <div class="info-box">
                <strong>‚úÖ Swiss Data Residency:</strong> All services and databases run in Switzerland (Switzerland North).<br>
                <strong>‚úÖ Compliance:</strong> FADP & GDPR compliant through Swiss Azure deployment.<br>
                <strong>‚úÖ Security:</strong> HTTPS enforced, JWT tokens, CORS configured, Azure AD authentication.
            </div>

            <div class="warning-box">
                <strong>üîí Environment Variables:</strong><br>
                All API keys (OpenAI, Azure Blob) are stored in Azure App Service Environment Variables.<br>
                No secrets in code or Git repository.
            </div>
        </div>
    </div>

    <script>
        function showTab(tabName) {
            // Hide all content sections
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });

            // Remove active class from all tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });

            // Show selected content section
            document.getElementById(tabName).classList.add('active');

            // Add active class to clicked tab
            event.target.classList.add('active');
        }
    </script>
</body>
</html>